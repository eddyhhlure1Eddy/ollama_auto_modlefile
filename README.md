# Ollama 模型管理器

一个用于管理Ollama模型的桌面应用程序，支持创建、编辑、克隆和删除模型，以及控制Ollama的网络安全。

## 功能特点

- **模型管理**：查看、创建、编辑、克隆和删除Ollama模型
- **编辑Modelfile**：直观地编辑模型配置文件
- **自定义模型参数**：轻松调整模型参数如temperature、top_p等
- **安全模式**：通过Windows防火墙规则控制Ollama的网络访问，保护本地对话安全

## 系统要求

- Windows 10/11
- 已安装Ollama (https://ollama.com)
- Python 3.7+
- PyQt5

## 安装依赖

```bash
pip install PyQt5 requests
```

## 使用方法

1. 启动应用程序：
```bash
python fix_ollama_manager.py
```

2. 主要操作：
   - **浏览模型**：在左侧列表中查看所有已安装的模型
   - **查看详情**：点击模型以查看其详细信息和Modelfile内容
   - **下载模型**：点击"下载模型"按钮，输入模型名称（如llama2、mistral等）
   - **新建模型**：基于现有模型创建自定义模型配置
   - **删除模型**：选中模型后点击"删除选中模型"按钮

3. **安全模式功能**：
   - 勾选"安全模式"复选框以禁止Ollama联网，保护本地对话安全
   - 取消勾选以恢复Ollama的网络连接
   - 安全模式通过Windows防火墙规则控制Ollama的网络访问
   - **注意**：开启安全模式需要管理员权限

## 安全模式说明

安全模式通过Windows防火墙阻止Ollama程序的所有网络连接，确保您的本地对话不会被发送到互联网。这对于处理敏感信息时特别有用。

- **开启安全模式**：勾选界面上的"安全模式"复选框
- **关闭安全模式**：取消勾选"安全模式"复选框
- **权限要求**：更改防火墙规则需要管理员权限
- **下载限制**：安全模式开启时无法下载新模型（会有提示询问是否暂时关闭安全模式）

## 注意事项

1. 首次启动时，如果Ollama服务未运行，应用会提示您启动服务
2. 模型创建过程可能需要一些时间，请耐心等待
3. 编辑Modelfile时小心，确保语法正确
4. 启用安全模式可能需要以管理员身份运行应用程序

## 故障排除

- **无法连接到Ollama**：确保Ollama服务正在运行，可使用"启动Ollama服务"按钮
- **防火墙规则设置失败**：以管理员身份运行应用程序，或检查Windows防火墙设置
- **模型创建失败**：检查Modelfile语法，确保FROM指令指向一个有效的基础模型

## 许可证

此软件基于MIT许可证发布。 